package ParteMario;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.ResultSet;
import java.sql.SQLException;
import javax.swing.JOptionPane;
public class accionEquipamiento implements ActionListener {
	private latderch d;
	private accionEquipamiento izq;
	accionEquipamiento(latderch de, latizq izq2) throws ClassNotFoundException, SQLException{
		d = de;
		izq = izq2;
	}
	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub
		switch(e.getActionCommand()) {
		case "botonBorrar":
			d.getLatizq().getTxDescr().setText("");
			d.getLatizq().getTxNom().setText("");
			break;
		case "botonInsertar":
			boolean enc = false;
			if(d.getLatizq().getTxDescr().getText().isEmpty() || d.getLatizq().getTxNom().getText().isEmpty()) {
				enc = true;
			}
			if(enc) {
				JOptionPane.showMessageDialog(d, "Porfavor, rellene los campos");
			}
			else {
                JOptionPane.showMessageDialog(d, "Datos insertados correctamente");
                try {
					d.getLatizq().getBd().ejecutarSQL2("INSERT INTO");
				} catch (SQLException e1) {
					// TODO Auto-generated catch block
					e1.printStackTrace();
				}
			}
			break;
		}
	}
	
	public int incrementarEquipamiento() throws SQLException {
		ResultSet rs = d.getLatizq().getBd().ejecutarSQL1("SELECT MAX(id) AS id_Eq FROM equipamiento");
		if(rs.next()) {
			return rs.getInt("id_Eq") + 1;
		}
		else {
			return 1;
		}
	}
	
	public int incrementarMantenimiento() throws SQLException {
		ResultSet rs = d.getLatizq().getBd().ejecutarSQL1("SELECT MAX(id) AS id_Ma FROM mantenimiento");
		if(rs.next()) {
			return rs.getInt("id_Ma") + 1;
		}
		else {
			return 1;
		}
	}
	
	public int incrementarActividad() throws SQLException {
		ResultSet rs = d.getLatizq().getBd().ejecutarSQL1("SELECT MAX(id) AS id_Act FROM actividad");
		if(rs.next()) {
			return rs.getInt("id_Act") + 1;
		}
		else {
			return 1;
		}
	} 	
	
	public latderch getD() {
		return d;
	}
	public void setD(latderch d) {
		this.d = d;
	}
}